@using Microsoft.AspNetCore.Components.Routing

<header class="sticky top-0 z-40 border-b border-border-soft bg-header/95 backdrop-blur">
  <div class="max-w-6xl mx-auto flex items-center justify-between px-4 py-3 gap-6">
    <!-- Logo + marca -->
    <div class="flex items-center gap-3">
      <NavLink href="/" Match="NavLinkMatch.All" class="flex items-center gap-2">
        <div class="h-10 w-auto flex items-center">
          <!-- Trocar pela logo real quando quiser -->
          <span
            class="h-9 w-24 border border-primary/40 flex items-center justify-center text-[11px] font-semibold text-primary tracking-wide">
            ASPEC
          </span>
        </div>
        <div class="leading-tight hidden sm:block">
          <p class="text-sm font-semibold text-slate-900">Aspec SLE</p>
          <p class="text-xs text-slate-500">Licitações e Contratos</p>
        </div>
      </NavLink>
    </div>

    <!-- Menu principal -->
    <nav class="hidden md:flex items-center gap-1 text-sm">
      <NavLink href="/" Match="NavLinkMatch.All"
        class="px-3 py-1.5 rounded-full border border-transparent text-xs text-slate-600 hover:bg-primary-soft/60 hover:text-primary-strong"
        ActiveClass="border-primary bg-primary-soft text-primary-strong">
        Início
      </NavLink>

      <NavLink href="/processos"
        class="px-3 py-1.5 rounded-full border border-transparent text-xs text-slate-600 hover:bg-primary-soft/60 hover:text-primary-strong"
        ActiveClass="border-primary bg-primary-soft text-primary-strong">
        Processos
      </NavLink>

      <NavLink href="/produtos"
        class="px-3 py-1.5 rounded-full border border-transparent text-xs text-slate-600 hover:bg-primary-soft/60 hover:text-primary-strong"
        ActiveClass="border-primary bg-primary-soft text-primary-strong">
        Produtos
      </NavLink>

      <NavLink href="/planos"
        class="px-3 py-1.5 rounded-full border border-transparent text-xs text-slate-600 hover:bg-primary-soft/60 hover:text-primary-strong"
        ActiveClass="border-primary bg-primary-soft text-primary-strong">
        Planos
      </NavLink>

      <!-- Contato: pode ser rota interna ou link externo -->
      <a href="https://aspec.com.br/contato/fale-conosco/" target="_blank"
        class="px-3 py-1.5 rounded-full border border-transparent text-xs text-slate-600 hover:bg-primary-soft/60 hover:text-primary-strong">
        Contato
      </a>
    </nav>

    <!-- Ações: Entrar / Cadastro + “Usuário” -->
    <div class="flex items-center gap-3">
      <div class="hidden sm:flex items-center gap-2">
        <NavLink href="/entrar"
          class="px-3 py-1.5 rounded-full text-xs text-slate-700 hover:text-primary-strong hover:bg-primary-soft/50">
          Entrar
        </NavLink>

        <NavLink href="/cadastro"
          class="px-4 py-1.5 rounded-full text-xs bg-primary text-white hover:bg-primary-strong">
          Cadastro
        </NavLink>
      </div>

      <!-- Menu de usuário simples -->
      <div class="relative">
        <button @onclick="ToggleUserMenu"
          class="flex items-center gap-2 rounded-full border border-border-soft px-2 py-1 text-xs text-slate-600 hover:border-primary hover:bg-primary-soft/60">
          <div
            class="h-7 w-7 rounded-full border border-border-soft flex items-center justify-center bg-white text-[10px]">
            US
          </div>
          <span class="hidden sm:inline">Usuário</span>
        </button>

        @if (isUserMenuOpen)
        {
          <div class="absolute right-0 mt-2 w-40 rounded-md border border-border-soft bg-white shadow-lg text-xs z-50">
            <div class="px-3 py-2 font-semibold text-slate-700">
              Usuário
            </div>
            <div class="border-t border-border-soft/70" />
            <button class="block w-full text-left px-3 py-2 hover:bg-primary-soft/60">
              Perfil
            </button>
            <button class="block w-full text-left px-3 py-2 hover:bg-primary-soft/60">
              Configurações
            </button>
            <div class="border-t border-border-soft/70" />
            <button class="block w-full text-left px-3 py-2 hover:bg-primary-soft/60">
              Sair
            </button>
          </div>
        }
      </div>
    </div>
  </div>
</header>

@code {
  private bool isUserMenuOpen;

  private void ToggleUserMenu()
  {
    isUserMenuOpen = !isUserMenuOpen;
  }
}